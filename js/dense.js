// Generated by CoffeeScript 2.7.0
var ALFABET, ASCII, datum, downloadFile, message, resultat;

import {
  parseExpr
} from './parser.js';

import {
  g,
  print,
  range
} from './globals.js';

import {
  Button,
  spread
} from './button.js';

import {
  Lista
} from './lista.js';

import {
  Tournament
} from './tournament.js';

import {
  Tables
} from './page_tables.js';

import {
  Names
} from './page_names.js';

import {
  Standings
} from './page_standings.js';

import {
  Active
} from './page_active.js';

g.LPP = 14;

g.RINGS = {
  'b': '•',
  ' ': ' ',
  'w': 'o'
};

ASCII = '0123456789abcdefg';

ALFABET = '123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'; // 62 ronder maximalt

datum = '';

g.tournament = null;

g.errors = []; // id för motsägelsefulla resultat. Tas bort med Delete

g.pages = [];

resultat = []; // 012 sorterad på id

message = ''; //This is a tutorial g.tournament. Use it or edit the URL'

downloadFile = function(txt, filename) {
  var a, blob, url;
  blob = new Blob([txt], {
    type: 'text/plain'
  });
  url = URL.createObjectURL(blob);
  a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  return URL.revokeObjectURL(url);
};

window.windowResized = function() {
  resizeCanvas(windowWidth, windowHeight - 4);
  return g.LPP = Math.floor(height / g.ZOOM[g.state]) - 4;
};

window.setup = function() {
  createCanvas(windowWidth - 4, windowHeight - 4);
  textFont('Courier New');
  // textAlign window.LEFT,window.TOP
  textAlign(CENTER, CENTER);
  rectMode(window.CORNER);
  noStroke();
  g.ZOOM = [
    20,
    20,
    20,
    20 // vertical line distance for four states
  ];
  g.state = g.TABLES;
  g.N = 0; // number of players
  g.tournament = new Tournament();
  g.state = g.ACTIVE;
  g.pages = [new Tables(), new Names(), new Standings(), new Active()];
  print(g.pages);
  return window.windowResized();
};

window.draw = function() {
  background('gray');
  textSize(g.ZOOM[g.state]);
  return g.pages[g.state].draw();
};

window.mousePressed = function(event) {
  return g.pages[g.state].mousePressed(event);
};

window.mouseWheel = function(event) {
  return g.pages[g.state].mouseWheel(event);
};

window.keyPressed = function(event) {
  var key2;
  key2 = key;
  if (key2 === 'Control' || key2 === 'Shift' || key2 === 'I') {
    return;
  }
  if (key2 === '1') {
    key2 = 'K1';
  }
  if (key2 === '0') {
    key2 = 'K0';
  }
  return g.pages[g.state].keyPressed(event, key2);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVuc2UuanMiLCJzb3VyY2VSb290IjoiLi5cXCIsInNvdXJjZXMiOlsiY29mZmVlXFxkZW5zZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLE9BQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsU0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLENBQVQ7RUFBVyxLQUFYO0VBQWlCLEtBQWpCO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsTUFBVDtFQUFnQixNQUFoQjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLEtBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxVQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsTUFBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLEtBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxTQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsTUFBVDtDQUFBLE1BQUE7O0FBRUEsQ0FBQyxDQUFDLEdBQUYsR0FBUTs7QUFFUixDQUFDLENBQUMsS0FBRixHQUFVO0VBQUMsR0FBQSxFQUFJLEdBQUw7RUFBVSxHQUFBLEVBQUksR0FBZDtFQUFtQixHQUFBLEVBQUk7QUFBdkI7O0FBRVYsS0FBQSxHQUFROztBQUNSLE9BQUEsR0FBVSxnRUFmVjs7QUFpQkEsS0FBQSxHQUFROztBQUNSLENBQUMsQ0FBQyxVQUFGLEdBQWU7O0FBQ2YsQ0FBQyxDQUFDLE1BQUYsR0FBVyxHQW5CWDs7QUFxQkEsQ0FBQyxDQUFDLEtBQUYsR0FBVTs7QUFDVixRQUFBLEdBQVcsR0F0Qlg7O0FBdUJBLE9BQUEsR0FBVSxHQXZCVjs7QUF5QkEsWUFBQSxHQUFlLFFBQUEsQ0FBQyxHQUFELEVBQUssUUFBTCxDQUFBO0FBQ2YsTUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBO0VBQUMsSUFBQSxHQUFPLElBQUksSUFBSixDQUFTLENBQUMsR0FBRCxD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a0MsSUFBbEM7QUFMcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUV4cHIgfSBmcm9tICcuL3BhcnNlci5qcydcclxuaW1wb3J0IHsgZyxwcmludCxyYW5nZSB9IGZyb20gJy4vZ2xvYmFscy5qcycgXHJcbmltcG9ydCB7IEJ1dHRvbixzcHJlYWQgfSBmcm9tICcuL2J1dHRvbi5qcycgXHJcbmltcG9ydCB7IExpc3RhIH0gZnJvbSAnLi9saXN0YS5qcycgXHJcbmltcG9ydCB7IFRvdXJuYW1lbnQgfSBmcm9tICcuL3RvdXJuYW1lbnQuanMnIFxyXG5pbXBvcnQgeyBUYWJsZXMgfSBmcm9tICcuL3BhZ2VfdGFibGVzLmpzJyBcclxuaW1wb3J0IHsgTmFtZXMgfSBmcm9tICcuL3BhZ2VfbmFtZXMuanMnIFxyXG5pbXBvcnQgeyBTdGFuZGluZ3MgfSBmcm9tICcuL3BhZ2Vfc3RhbmRpbmdzLmpzJyBcclxuaW1wb3J0IHsgQWN0aXZlIH0gZnJvbSAnLi9wYWdlX2FjdGl2ZS5qcycgXHJcblxyXG5nLkxQUCA9IDE0XHJcblxyXG5nLlJJTkdTID0geydiJzon4oCiJywgJyAnOicgJywgJ3cnOidvJ31cclxuXHJcbkFTQ0lJID0gJzAxMjM0NTY3ODlhYmNkZWZnJ1xyXG5BTEZBQkVUID0gJzEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonICMgNjIgcm9uZGVyIG1heGltYWx0XHJcblxyXG5kYXR1bSA9ICcnXHJcbmcudG91cm5hbWVudCA9IG51bGxcclxuZy5lcnJvcnMgPSBbXSAjIGlkIGbDtnIgbW90c8OkZ2Vsc2VmdWxsYSByZXN1bHRhdC4gVGFzIGJvcnQgbWVkIERlbGV0ZVxyXG5cclxuZy5wYWdlcyA9IFtdXHJcbnJlc3VsdGF0ID0gW10gIyAwMTIgc29ydGVyYWQgcMOlIGlkXHJcbm1lc3NhZ2UgPSAnJyAjVGhpcyBpcyBhIHR1dG9yaWFsIGcudG91cm5hbWVudC4gVXNlIGl0IG9yIGVkaXQgdGhlIFVSTCdcclxuXHJcbmRvd25sb2FkRmlsZSA9ICh0eHQsZmlsZW5hbWUpIC0+XHJcblx0YmxvYiA9IG5ldyBCbG9iIFt0eHRdLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9XHJcblx0dXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTCBibG9iXHJcblx0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ2EnXHJcblx0YS5ocmVmID0gdXJsXHJcblx0YS5kb3dubG9hZCA9IGZpbGVuYW1lXHJcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCBhXHJcblx0YS5jbGljaygpXHJcblx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCBhXHJcblx0VVJMLnJldm9rZU9iamVjdFVSTCB1cmxcclxuXHJcbndpbmRvdy53aW5kb3dSZXNpemVkID0gLT4gXHJcblx0cmVzaXplQ2FudmFzIHdpbmRvd1dpZHRoLCB3aW5kb3dIZWlnaHQtNFxyXG5cdGcuTFBQID0gaGVpZ2h0IC8vIGcuWk9PTVtnLnN0YXRlXSAtIDRcclxuXHJcbndpbmRvdy5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIHdpbmRvd1dpZHRoLTQsd2luZG93SGVpZ2h0LTRcclxuXHR0ZXh0Rm9udCAnQ291cmllciBOZXcnXHJcblx0IyB0ZXh0QWxpZ24gd2luZG93LkxFRlQsd2luZG93LlRPUFxyXG5cdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0cmVjdE1vZGUgd2luZG93LkNPUk5FUlxyXG5cdG5vU3Ryb2tlKClcclxuXHJcblx0Zy5aT09NID0gWzIwLDIwLDIwLDIwXSAjIHZlcnRpY2FsIGxpbmUgZGlzdGFuY2UgZm9yIGZvdXIgc3RhdGVzXHJcblx0Zy5zdGF0ZSA9IGcuVEFCTEVTXHJcblx0Zy5OID0gMCAjIG51bWJlciBvZiBwbGF5ZXJzXHJcblx0Zy50b3VybmFtZW50ID0gbmV3IFRvdXJuYW1lbnQoKVxyXG5cdGcuc3RhdGUgPSBnLkFDVElWRVxyXG5cclxuXHRnLnBhZ2VzID0gW25ldyBUYWJsZXMsIG5ldyBOYW1lcywgbmV3IFN0YW5kaW5ncywgbmV3IEFjdGl2ZV1cclxuXHRwcmludCBnLnBhZ2VzXHJcblxyXG5cdHdpbmRvdy53aW5kb3dSZXNpemVkKClcclxuXHJcbndpbmRvdy5kcmF3ID0gLT5cclxuXHRiYWNrZ3JvdW5kICdncmF5J1xyXG5cdHRleHRTaXplIGcuWk9PTVtnLnN0YXRlXVxyXG5cdGcucGFnZXNbZy5zdGF0ZV0uZHJhdygpXHJcblxyXG53aW5kb3cubW91c2VQcmVzc2VkID0gKGV2ZW50KSAtPiBnLnBhZ2VzW2cuc3RhdGVdLm1vdXNlUHJlc3NlZCBldmVudFxyXG53aW5kb3cubW91c2VXaGVlbCAgID0gKGV2ZW50KSAtPiBnLnBhZ2VzW2cuc3RhdGVdLm1vdXNlV2hlZWwgZXZlbnRcclxud2luZG93LmtleVByZXNzZWQgICA9IChldmVudCkgLT4gXHJcblx0a2V5MiA9IGtleVxyXG5cdGlmIGtleTIgaW4gWydDb250cm9sJywnU2hpZnQnLCdJJ10gdGhlbiByZXR1cm5cclxuXHRpZiBrZXkyID09ICcxJyB0aGVuIGtleTIgPSAnSzEnXHJcblx0aWYga2V5MiA9PSAnMCcgdGhlbiBrZXkyID0gJ0swJ1xyXG5cdGcucGFnZXNbZy5zdGF0ZV0ua2V5UHJlc3NlZCBldmVudCxrZXkyXHJcbiJdfQ==
//# sourceURL=c:\github\Dense\coffee\dense.coffee